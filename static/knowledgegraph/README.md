# 知识图谱相关

python 测试代码，并没有工程化到 patroit 平台中

## 处理流程

1. （已完成）建立知识图谱（爬商品，建树）- knowledgegraph.py
2. （已完成）结合知识图谱过滤相关 query（结合字典匹配） - Python 代码
    + （已完成）业务分类（奶粉，尿布）
    + （已完成）品牌分类
    + （已完成）建立词典的倒排索引（先做一个简化版的，知识图谱引擎后期再做，用 go 写）
3. （已完成）利用业务信息过滤 query - preprocessing.py
    + （已完成）确定位置 - 本地 ip 库
    + （已完成）分词 - Jieba 分词，载入业务词典，提取关键词（TFIDF），带上词性
    + （已完成）根据 faq 进行分类（售前中后 全球购）
    + （已完成）热词和实体挖掘 - Jieba 分词，已有代码，词性选择
    + （已完成）情感分析 - 用已有代码（1 - 中性，0-消极）
4. （已完成）生成报表

## 知识图谱建立

目前是人工操作，之后需要大批量建立的时候，则会采取自动 + 人工干预的方法。按照目前的技术水平，基本可以说离不开人工干预。

+ 调研图数据库

## 图谱保存格式

按照不同的分类保存，分为 

+ `2tier`: 二级类目
+ `3tier`: 三级类目
+ `4tier`: 四级类目
+ `5tier`: 五级类目

每个类别的存储为 TXT 文档，按照行来分类，格式为：

```
第一行 - 节点名称：技术 工程技术
第二行 - 父节点名称（可以有多个）：总分类
第三行 - 子节点名称：媒体技术 医学 技术导航模板 技术标志 航空航天 专利 园艺技术 制造 数位技术 技术小作品 工业设计 通信技术 技术预测 各类技术 技术系统 TED 计算机技术 技术通信 发明 纺织 技术变革 核能科技 技术模板 家政学 能源 产业 技术网站 建筑 技术大学和学院 生产 互联网 电信技术 技术总论 科技产品 高新技术 技术民俗学 技术史 农业 无线 复健医学 印刷
第四行 - 暂无：None
第五行 - 暂无：None
```